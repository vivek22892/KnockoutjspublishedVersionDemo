/*
 * sw-ui-bootstrap
 * AngularJS directives for Bootstrap

 * Created By: Michelle Darlea <mdarlea@gmail.com> (https://github.com/mdarlea)
 * https://github.com/mdarlea/sw-ui-bootstrap

 * Version: 1.0.34 - 2015-12-01
 * License: ISC
 */
angular.module("sw.ui.bootstrap",["sw.ui.bootstrap.tpls","sw.ui.bootstrap.form","sw.ui.bootstrap.image","sw.ui.bootstrap.route"]),angular.module("sw.ui.bootstrap.tpls",["template/form/field-date.html","template/form/field-password-pattern.html","template/form/field-password.html","template/form/field-text-pattern.html","template/form/field-text.html","template/form/field-time.html","template/form/form-field.html"]),function(){"use strict";angular.module("sw.ui.bootstrap.form",["ui.bootstrap"]),angular.module("sw.ui.bootstrap.form").controller("FormController",["$scope",function(a){function b(b){var c;return c=b?b:"text",a.ngPattern&&(c+="-pattern"),"template/form/field-"+c+".html"}function c(a){return"date"===a}function d(a){return"time"===a}function e(b,e){if(c(b)){var f={formatYear:"yy",startingDay:1,minDate:new Date};a.dateOptions=angular.extend({},f,e)}else{if(d(b)){var g={hstep:1,mstep:15,ismeridian:!0};a.timeOptions=angular.extend({},g,e)}a.dateOptions=null}angular.extend(a.fieldOptions,e)}a.inline||a.control||a.group||(a.group="true"),a.fieldOptions={},a.$watch("type",function(c){a.template=b(c),e(c,a.options)}),a.$watch("ngPattern",function(){a.template=b(a.type)}),a.$watch("options",function(b,c){e(a.type,b)},!0),a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!0}}]).directive("swFormField",[function(){return{restrict:"EA",replace:!0,require:["?ngModel","?ngChange"],transclude:!0,scope:{label:"@",type:"@",placeholder:"@",title:"@",group:"@",inline:"@",control:"@",name:"@",css:"=",options:"=",ngModel:"=",ngChange:"=",ngRequired:"=",ngPattern:"=",ngTrim:"="},controller:"FormController",templateUrl:"template/form/form-field.html",compile:function(a,b){var c=function(a){return"true"===b[a]};return b.group||(b.group=!c("inline")&&!c("control")),{pre:function(a,b,c){},post:function(a,b,c,d,e){}}}}}])}(),function(){"use strict";angular.module("sw.ui.bootstrap.image",[]),angular.module("sw.ui.bootstrap.image").factory("ImageLoader",["PreLoader",function(a){var b=function(){this.loading=!0,this.backgroundImages=[],this._unloadedImages=[],this.idx=0};return b.prototype=function(){function c(a,b){if(!b)return a;var c="{0}",d=b.indexOf(c);if(0>d)return a;var e=b.substring(d+c.length),f=a.substring(d,a.lastIndexOf(e));return f}function d(b,d,e){for(var f=[],g=0;g<b.length;g++){var h=b[g],i=d.replace("{0}",h);f.push(i)}var j=this;new a(f,{onComplete:function(){for(var a=0;a<this.completed.length;a++)j.backgroundImages.push(j._(c)(this.completed[a],d));for(var b=0;b<this.errors.length;b++)j._unloadedImages.push(j._(c)(this.errors[b],d));e(),j.loading=!1}})}return{constructor:b,getFirst:function(){return this.backgroundImages.length>0&&this.backgroundImages[0]},getCurrent:function(){var a=this.backgroundImages.length;return this.idx<=a-1&&this.backgroundImages[this.idx]},getNext:function(){return this.idx===this.backgroundImages.length-1?this.idx=0:this.idx++,this.getCurrent()},load:function(a,b,c){this.loading=!0,this.idx=0,this.backgroundImages=[],this._unloadedImages=[],this._(d)(a,b,c)},_:function(a){var b=this;return function(){return a.apply(b,arguments)}}}}(),b}])}(),function(){"use strict";angular.module("sw.ui.bootstrap.image").factory("PreLoader",[function(){var a=function(a,b){this.options={pipeline:!1,auto:!0,onComplete:function(){}},b&&"object"==typeof b&&this.setOptions(b),this.addQueue(a),this.queue.length&&this.options.auto&&this.processQueue()};return a.prototype=function(){function b(a,b){var c=[],d=this.options;d.onProgress&&a&&d.onProgress.call(this,a,b,this.completed.length),this.completed.length+this.errors.length===this.queue.length&&(c.push(this.completed),this.errors.length&&c.push(this.errors),d.onComplete.apply(this,c))}return{constructor:a,setOptions:function(a){var b,c=this.options;for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return this},addQueue:function(a){return this.queue=a.slice(),this},reset:function(){return this.completed=[],this.errors=[],this},load:function(a,c){var d=new Image,e=this,f=this.options;return d.onerror=d.onabort=function(){this.onerror=this.onabort=this.onload=null,e.errors.push(a),f.onError&&f.onError.call(e,a),e._(b)(a),f.pipeline&&e.loadNext(c)},d.onload=function(){this.onerror=this.onabort=this.onload=null,e.completed.push(a),e._(b)(a,this),f.pipeline&&e.loadNext(c)},d.src=a,this},loadNext:function(a){return a++,this.queue[a]&&this.load(this.queue[a],a),this},processQueue:function(){var a=0,b=this.queue,c=b.length;if(this.reset(),this.options.pipeline)this.load(b[0],0);else for(;c>a;++a)this.load(b[a],a);return this},_:function(a){var b=this;return function(){return a.apply(b,arguments)}}}}(),a}])}(),function(){"use strict";angular.module("sw.ui.bootstrap.image").controller("ImagesSliderCtrl",["$scope","ImageLoader",function(a,b){a.loader=new b,a.loader.loading=!0}]).directive("swImagesSlider",[function(){return{restrict:"EA",replace:!0,scope:{filter:"@",source:"=",bgClass:"@"},controller:"ImagesSliderCtrl",template:"<div></div>",link:function(a,b,c){var d=a.bgClass||"slider__background";b.hasClass(d)||b.addClass(d);var e=a.loader,f=function(){a.source&&0!==a.source.length&&(e.load(a.source,a.filter,function(){for(var a=e.getFirst(),c=0;c<e.backgroundImages;c++){var d=e.backgroundImages[c];d!==a&&b.removeClass(d)}a&&!b.hasClass(a)&&b.addClass(a)}),a.loadedFilter=a.filter,a.loadedImages=a.images)};a.$watch("source",function(a,b){f()},!0),a.$watch("filter",function(a,b){f()});var g=setInterval(function(){e.loading||b.removeClass(e.getCurrent()).addClass(e.getNext())},3e3);a.$on("$destroy",function(a){g&&clearInterval(g)})}}}])}(),function(){"use strict";angular.module("sw.ui.bootstrap.route",[]),angular.module("sw.ui.bootstrap.route").directive("head",["$rootScope","$compile",function(a,b){return{restrict:"E",link:function(c,d){var e='<link rel="stylesheet" ng-repeat="(href, sheet) in routeStyles" media="{{sheet.media}}" ng-href="{{href}}" />';d.append(b(e)(c)),c.routeStyles={},c.getMedia=function(a){window.innerWidth>0?window.innerWidth:screen.width;return a.media?a.media:""},a.$on("$routeChangeStart",function(a,b,d){d&&d.$$route&&d.$$route.css&&(angular.isArray(d.$$route.css)||(d.$$route.css=[d.$$route.css]),angular.forEach(d.$$route.css,function(a){delete c.routeStyles[a.href]})),b&&b.$$route&&b.$$route.css&&(angular.isArray(b.$$route.css)||(b.$$route.css=[b.$$route.css]),angular.forEach(b.$$route.css,function(a){c.routeStyles[a.href]=a}))})}}}])}(),angular.module("template/form/field-date.html",[]).run(["$templateCache",function(a){a.put("template/form/field-date.html",'<div class="input-group">\n    <input type="text"\n           class="form-control"\n           name="{{$parent.name}}"\n           placeholder="{{$parent.placeholder}}"\n           datepicker-popup="{{$parent.fieldOptions.format}}"\n           data-ng-model="$parent.ngModel"\n           is-open="$parent.opened"\n           min-date="$parent.fieldOptions.minDate"\n           max-date="$parent.fieldOptions.maxDate"\n           datepicker-options="$parent.dateOptions"\n           date-disabled="$parent.disabled(date, mode)"\n           ng-required="$parent.ngRequired"\n           ng-change="$parent.ngChange"\n           close-text="Close" />\n    <span class="input-group-btn">\n        <button type="button"\n                class="btn btn-default btn-calendar"\n                ng-click="$parent.open($event)">\n            <i class="glyphicon glyphicon-calendar icon icon-calendar"></i>\n        </button>\n    </span>\n</div>\n\n')}]),angular.module("template/form/field-password-pattern.html",[]).run(["$templateCache",function(a){a.put("template/form/field-password-pattern.html",'<input type="password"\n       name="{{$parent.name}}"\n       class="form-control"\n       data-ng-model="$parent.ngModel"\n       ng-required="$parent.ngRequired"\n       ng-pattern="$parent.ngPattern"\n       ng-change="$parent.ngChange"\n       ng-minlength="$parent.ngMinlength"\n       ng-maxlength="$parent.ngMaxlength" />\n')}]),angular.module("template/form/field-password.html",[]).run(["$templateCache",function(a){a.put("template/form/field-password.html",'<input type="password"\n       name="{{$parent.name}}"\n       class="form-control"\n       data-ng-model="$parent.ngModel"\n       ng-required="$parent.ngRequired"\n       ng-change="$parent.ngChange" />\n')}]),angular.module("template/form/field-text-pattern.html",[]).run(["$templateCache",function(a){a.put("template/form/field-text-pattern.html",'<input type="text"\n       name="{{$parent.name}}"\n       ng-class="$parent.css"\n       class="form-control"\n       data-ng-model="$parent.ngModel"\n       ng-required="$parent.ngRequired"\n       ng-pattern="$parent.ngPattern"\n       ng-change="$parent.ngChange"\n       ng-trim="$parent.ngTrim"\n       title="{{$parent.title}}"\n       placeholder="{{$parent.placeholder}}" />\n')}]),angular.module("template/form/field-text.html",[]).run(["$templateCache",function(a){a.put("template/form/field-text.html",'<input type="text"\n       ng-class="$parent.css"\n       name="{{$parent.name}}"\n       class="form-control"\n       data-ng-model="$parent.ngModel"\n       ng-required="$parent.ngRequired"\n       ng-change="$parent.ngChange"\n       ng-trim="$parent.ngTrim"\n       title="{{$parent.title}}"\n       placeholder="{{$parent.placeholder}}" />\n')}]),angular.module("template/form/field-time.html",[]).run(["$templateCache",function(a){a.put("template/form/field-time.html",'<timepicker data-ng-model="$parent.ngModel"\n            ng-required="$parent.ngRequired"\n            ng-change="$parent.ngChange"\n            hour-step="$parent.timeOptions.hstep"\n            minute-step="$parent.timeOptions.mstep"\n            show-meridian="$parent.timeOptions.ismeridian">\n</timepicker>')}]),angular.module("template/form/form-field.html",[]).run(["$templateCache",function(a){a.put("template/form/form-field.html","<div ng-class=\"{'form-inline':inline,'form-group':group,'control-group':control}\">\n"+'    <label class="control-label" ng-if="label">{{label}}</label>\n\n    <span data-ng-include="template"></span>\n    <span ng-transclude></span>\n</div>\n')}]);